<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TidyTop - Desktop Organization Made Delightful</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üßπ</text></svg>">
    <link rel="icon" type="image/png" sizes="32x32" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üßπ</text></svg>">
    <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üßπ</text></svg>">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Ubuntu', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'background': 'oklch(0 0 0)',
                        'foreground': 'oklch(1.0000 0 0)',
                        'card': 'oklch(0.2455 0.0217 257.2823)',
                        'card-foreground': 'oklch(1.0000 0 0)',
                        'primary': 'oklch(0.6801 0.1583 276.9349)',
                        'primary-foreground': 'oklch(0 0 0)',
                        'secondary': 'oklch(0.7845 0.1325 181.9120)',
                        'secondary-foreground': 'oklch(0 0 0)',
                        'muted': 'oklch(0.3211 0 0)',
                        'muted-foreground': 'oklch(0.8452 0 0)',
                        'accent': 'oklch(0.8790 0.1534 91.6054)',
                        'accent-foreground': 'oklch(0 0 0)',
                        'border': 'oklch(0.4459 0 0)',
                        'ring': 'oklch(0.6801 0.1583 276.9349)',
                    },
                    borderRadius: {
                        'lg': '1rem',
                        'xl': '1.25rem',
                        '2xl': '1.5rem',
                        '3xl': '2rem',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --background: oklch(0 0 0);
            --foreground: oklch(1.0000 0 0);
            --card: oklch(0.2455 0.0217 257.2823);
            --card-foreground: oklch(1.0000 0 0);
            --primary: oklch(0.6801 0.1583 276.9349);
            --primary-foreground: oklch(0 0 0);
            --secondary: oklch(0.7845 0.1325 181.9120);
            --secondary-foreground: oklch(0 0 0);
            --muted: oklch(0.3211 0 0);
            --muted-foreground: oklch(0.8452 0 0);
            --accent: oklch(0.8790 0.1534 91.6054);
            --accent-foreground: oklch(0 0 0);
            --border: oklch(0.4459 0 0);
            --ring: oklch(0.6801 0.1583 276.9349);
            --font-sans: 'Ubuntu', sans-serif;
            --radius: 1rem;
            --shadow-sm: 0px 1px 2px -1px hsl(0 0% 100% / 0.05);
            --shadow-md: 0px 2px 4px -1px hsl(0 0% 100% / 0.05);
            --shadow-lg: 0px 4px 6px -1px hsl(0 0% 100% / 0.05);
            --shadow-xl: 0px 8px 10px -1px hsl(0 0% 100% / 0.05);
            --shadow-2xl: 0px 25px 50px -12px hsl(0 0% 100% / 0.15);
            --tracking-normal: normal;
        }
        
        body { 
            font-family: var(--font-sans);
            letter-spacing: var(--tracking-normal);
            background-color: var(--background);
            color: var(--foreground);
        }
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .drink-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .drink-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.15);
        }
        .hero-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .price-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        /* Highlighter Effects */
        .highlight-yellow {
            background: linear-gradient(120deg, var(--accent) 0%, var(--accent) 100%);
            background-repeat: no-repeat;
            background-size: 100% 0.3em;
            background-position: 0 88%;
            transition: background-size 0.25s ease-in;
        }
        
        .highlight-purple {
            background: linear-gradient(120deg, var(--primary) 0%, var(--primary) 100%);
            background-repeat: no-repeat;
            background-size: 100% 0.3em;
            background-position: 0 88%;
        }
        
        .highlight-teal {
            background: linear-gradient(120deg, var(--secondary) 0%, var(--secondary) 100%);
            background-repeat: no-repeat;
            background-size: 100% 0.3em;
            background-position: 0 88%;
        }
        
        /* Underline Effects */
        .underline-squiggly {
            text-decoration: underline;
            text-decoration-style: wavy;
            text-decoration-color: var(--accent);
            text-decoration-thickness: 2px;
            text-underline-offset: 4px;
        }
        
        .underline-double {
            border-bottom: 3px double var(--primary);
            padding-bottom: 2px;
        }
        
        .underline-gradient {
            position: relative;
        }
        .underline-gradient::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
            border-radius: 2px;
        }
        
        /* Hand-drawn style underline */
        .underline-hand-drawn {
            position: relative;
        }
        .underline-hand-drawn::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: -2px;
            right: -2px;
            height: 6px;
            background: url("data:image/svg+xml,%3csvg width='100' height='20' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='m3,17c6,0,6-12,14-12,8,0,8,12,14,12,6,0,6-12,14-12,8,0,8,12,14,12,6,0,6-12,14-12,8,0,8,12,14-12,6,0,6,12,14,12' stroke='%23a78bfa' stroke-width='2' fill='none'/%3e%3c/svg%3e") repeat-x;
            background-size: 20px 100%;
        }
        
        /* Marker highlight effect */
        .marker-highlight {
            position: relative;
            z-index: 1;
        }
        .marker-highlight::before {
            content: '';
            position: absolute;
            top: 15%;
            left: -4px;
            right: -4px;
            bottom: 15%;
            background: var(--accent);
            opacity: 0.3;
            z-index: -1;
            transform: rotate(-1deg);
            border-radius: 4px;
        }
        
        /* Hand-written purple highlight */
        .highlight-purple-custom {
            position: relative;
            z-index: 1;
        }
        .highlight-purple-custom::before {
            content: '';
            position: absolute;
            top: 60%;
            left: -4px;
            right: -4px;
            height: 12px;
            background: var(--primary);
            opacity: 0.3;
            z-index: -1;
            transform: rotate(-0.5deg) skew(-2deg);
            border-radius: 8px 3px 5px 2px;
        }
        
        /* Hand-drawn purple underline */
        .underline-purple {
            position: relative;
            padding-bottom: 4px;
        }
        .underline-purple::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: -2px;
            right: -2px;
            height: 4px;
            background: url("data:image/svg+xml,%3csvg width='200' height='8' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M2,6 Q25,2 50,4 T100,5 T150,3 T200,5' stroke='%236366f1' stroke-width='2' fill='none' stroke-linecap='round'/%3e%3c/svg%3e") repeat-x;
            background-size: 50px 100%;
            opacity: 0.9;
        }
        
        /* Hand-drawn circle effect */
        .hand-circle {
            position: relative;
            display: inline-block;
            padding: 6px 12px;
        }
        .hand-circle::before {
            content: '';
            position: absolute;
            top: -6px;
            left: -10px;
            right: -10px;
            bottom: -6px;
            border: 2px solid var(--primary);
            border-radius: 60% 40% 45% 55% / 70% 30% 70% 30%;
            transform: rotate(-1deg);
            opacity: 0.8;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="fixed top-0 w-full glass-card z-50 border-b border-muted">
        <div class="max-w-7xl mx-auto px-4 h-16 flex items-center justify-between">
            <div class="text-xl font-bold text-primary flex items-center gap-2">
                <span class="text-2xl">üßπ</span>
                TidyTop
            </div>
            <nav class="hidden md:flex space-x-8">
                <a href="#features" class="text-muted-foreground hover:text-foreground transition-colors font-medium">Features</a>
                <a href="#pricing" class="text-muted-foreground hover:text-foreground transition-colors font-medium">Pricing</a>
            </nav>
            <button onclick="scrollToPricing()" class="bg-primary text-primary-foreground px-6 py-2.5 rounded-xl hover:opacity-90 transition-all font-semibold shadow-lg hover:shadow-xl transform hover:scale-105">
                Get TidyTop
            </button>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="pt-24 pb-20 px-4 bg-foreground text-background relative">
        <div class="max-w-5xl mx-auto text-center">
            <div class="text-8xl mb-8">üßπ</div>
            <h1 class="text-5xl md:text-7xl font-bold mb-8 leading-tight">
                Your desktop looks like a<br>
                <span class="text-accent">tornado hit a filing cabinet.</span>
            </h1>
            <p class="text-2xl md:text-3xl mb-10 max-w-4xl mx-auto font-medium text-background/80">
                <span class="highlight-purple-custom">TidyTop fixes that.</span> <span class="hand-circle">One click. Done.</span><br>No life coaching required.
            </p>
            <div class="bg-background/10 border border-background/20 rounded-2xl p-8 mb-10 max-w-3xl mx-auto backdrop-blur-sm">
                <p class="text-xl font-semibold text-background">
                    Choose what you'd pay for a drink. That's what TidyTop costs today. 
                    <br><span class="text-accent">Because pricing should be as simple as organizing your mess.</span>
                </p>
            </div>
            <button onclick="scrollToPricing()" class="bg-background text-foreground px-10 py-5 rounded-2xl text-xl font-bold hover:bg-background/90 transition-all transform hover:scale-105 shadow-2xl">
                üéØ Pick Your Price Below
            </button>
        </div>
    </section>

    <!-- Pricing Grid -->
    <section id="pricing" class="py-24 px-4 bg-card">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-6xl font-black text-card-foreground mb-6">
                    Choose Your Drink, Choose Your Price
                </h2>
                <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
                    Real-world pricing meets software downloads. Pick what feels right.
                </p>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
                <!-- Coffee Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">‚òï</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Coffee</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$3.47</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">The fuel of productivity. Also, coincidentally, the price of getting your life together.</p>
                    <button onclick="selectDrink('Coffee')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Red Bull Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üêÇ</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Red Bull</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$2.89</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Gives you wings. TidyTop gives you organized folders. Similar energy.</p>
                    <button onclick="selectDrink('Red Bull')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Water Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üíß</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Water</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$1.25</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Basic necessity meets basic software pricing. Hydration optional, organization included.</p>
                    <button onclick="selectDrink('Water')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Milk Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">ü•õ</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Milk</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$2.15</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Got organized files? You will.</p>
                    <button onclick="selectDrink('Milk')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Coca-Cola Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">ü•§</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Coca-Cola</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$1.99</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">The real thing. Unlike your desktop organization skills.</p>
                    <button onclick="selectDrink('Coca-Cola')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Heineken Zero Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üç∫</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Heineken Zero</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$4.50</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Zero alcohol, maximum desktop zen.</p>
                    <button onclick="selectDrink('Heineken Zero')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Orange Juice Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üßÉ</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Orange Juice</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$2.85</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Vitamin C for your computer's health.</p>
                    <button onclick="selectDrink('Orange Juice')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Green Tea Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üçµ</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Green Tea</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$2.10</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Zen pricing for zen organization.</p>
                    <button onclick="selectDrink('Green Tea')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Whiskey Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">ü•É</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Whiskey</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$8.00</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">For when you're serious about both your drinks and your desktop hygiene.</p>
                    <button onclick="selectDrink('Whiskey')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Wine Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">üç∑</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Wine</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$7.50</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Sophisticated pricing for sophisticated file management.</p>
                    <button onclick="selectDrink('Wine')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Topo Chico Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">ü´ß</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Topo Chico</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$3.20</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Crisp bubbles, organized files.</p>
                    <button onclick="selectDrink('Topo Chico')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>

                <!-- Coconut Water Card -->
                <div class="drink-card bg-card rounded-3xl p-8 shadow-lg border border-muted flex flex-col h-full group">
                    <div class="text-6xl mb-4 group-hover:scale-110 transition-transform">ü••</div>
                    <h3 class="text-2xl font-bold text-card-foreground mb-3">Coconut Water</h3>
                    <div class="text-3xl font-black text-primary mb-4 price-pulse">$3.75</div>
                    <p class="text-muted-foreground mb-6 leading-relaxed flex-grow text-sm">Tropical vibes, organized files.</p>
                    <button onclick="selectDrink('Coconut Water')" class="w-full bg-primary text-primary-foreground py-3 px-4 rounded-xl hover:opacity-90 transition-all font-semibold transform hover:scale-105 shadow-lg">
                        Pay & Download
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- What TidyTop Does -->
    <section id="features" class="py-24 px-4 bg-background">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-16">
                <h2 class="text-4xl md:text-6xl font-black text-foreground mb-8">
                    But seriously, what is TidyTop?
                </h2>
                <p class="text-2xl text-muted-foreground max-w-3xl mx-auto font-medium">
                    It's desktop organization that doesn't suck. Runs in your menu bar. 
                    Sorts your chaos. Includes undo because we're not monsters.
                </p>
            </div>
            
            <div class="grid md:grid-cols-3 gap-12">
                <div class="text-center group">
                    <div class="text-7xl mb-6 group-hover:scale-110 transition-transform">üéØ</div>
                    <h3 class="text-2xl font-bold text-foreground mb-4">One-Click Organization</h3>
                    <p class="text-muted-foreground leading-relaxed text-lg">Sorts your desktop chaos instantly. No manual filing, no thinking required.</p>
                </div>
                
                <div class="text-center group">
                    <div class="text-7xl mb-6 group-hover:scale-110 transition-transform">‚ö°</div>
                    <h3 class="text-2xl font-bold text-foreground mb-4">Menu Bar Magic</h3>
                    <p class="text-muted-foreground leading-relaxed text-lg">Lives quietly in your menu bar. Always there, never in the way.</p>
                </div>
                
                <div class="text-center group">
                    <div class="text-7xl mb-6 group-hover:scale-110 transition-transform">‚Ü©Ô∏è</div>
                    <h3 class="text-2xl font-bold text-foreground mb-4">Undo Everything</h3>
                    <p class="text-muted-foreground leading-relaxed text-lg">Made a mistake? Hit undo. We're not monsters who trap you in organization hell.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-foreground text-background py-20 px-4">
        <div class="max-w-5xl mx-auto">
            <div class="text-center mb-12">
                <div class="glass-card bg-muted/20 rounded-3xl p-10 mb-12 border border-muted">
                    <p class="text-2xl text-background/90 mb-6 font-medium">
                        Rather pay like a normal person? Fine.
                    </p>
                    <button class="bg-background text-foreground px-8 py-4 rounded-2xl font-bold hover:bg-muted transition-all text-xl transform hover:scale-105 shadow-2xl">
                        Download for $5
                    </button>
                    <p class="text-background/70 mt-4 text-lg">
                        The price of a fancy latte, minus the pretension.
                    </p>
                </div>
            </div>
            
            <div class="border-t border-muted pt-12 text-center">
                <div class="flex justify-center space-x-12 mb-8">
                    <a href="#" class="text-background/70 hover:text-background transition-colors text-lg font-medium">Privacy</a>
                    <a href="#" class="text-background/70 hover:text-background transition-colors text-lg font-medium">Terms</a>
                    <a href="#" class="text-background/70 hover:text-background transition-colors text-lg font-medium">Support</a>
                </div>
                <p class="text-background/70 text-lg">
                    ¬© 2024 TidyTop. Making desktops less embarrassing, one click at a time.
                </p>
            </div>
        </div>
    </footer>


    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <script>
        // Stripe configuration (use test key for now)
        const stripe = Stripe('pk_live_51I3VRxEGdIa285leL4WzHENrvZLuQEb5nLUqIJbIgpM6nOZC3eTQ3MXiN68qiMjwl30YpzUILXLpBF7TggbSBk6w00V7Fke9HG');
        
        // Live Stripe price IDs for drink-based pricing
        const drinkData = {
            'Coffee': { price: 3.47, priceId: 'price_1S9YT3EGdIa285leR2JSWDPn', trend: '+1.2%' },
            'Red Bull': { price: 2.89, priceId: 'price_1S9YT4EGdIa285leDkuJwz9f', trend: '-0.8%' },
            'Water': { price: 1.25, priceId: 'price_1S9YT4EGdIa285led9AlQtmL', trend: '+0.3%' },
            'Milk': { price: 2.15, priceId: 'price_1S9YT5EGdIa285leDCp7N43F', trend: '+2.1%' },
            'Coca-Cola': { price: 1.99, priceId: 'price_1S9YT5EGdIa285leyE8rOuaQ', trend: '-0.5%' },
            'Heineken Zero': { price: 4.50, priceId: 'price_1S9YT5EGdIa285lePJ7GbDQg', trend: '+1.8%' },
            'Orange Juice': { price: 2.85, priceId: 'price_1S9YT6EGdIa285lemQakyeJg', trend: '+0.9%' },
            'Green Tea': { price: 2.10, priceId: 'price_1S9YT6EGdIa285leGYU8TEQQ', trend: '-0.2%' },
            'Whiskey': { price: 8.00, priceId: 'price_1S9YT6EGdIa285leUduEgSSV', trend: '+3.2%' },
            'Wine': { price: 7.50, priceId: 'price_1S9YT7EGdIa285letsn1nmZM', trend: '+2.8%' },
            'Topo Chico': { price: 3.20, priceId: 'price_1S9YT7EGdIa285le1koIveAq', trend: '+1.5%' },
            'Coconut Water': { price: 3.75, priceId: 'price_1S9YT8EGdIa285lesn3MfBtq', trend: '+0.7%' }
        };

        // Detect Mac architecture
        function detectMacArchitecture() {
            const userAgent = navigator.userAgent;
            const platform = navigator.platform;
            
            // Check if it's a Mac
            if (platform.includes('Mac')) {
                // Try to detect Apple Silicon vs Intel
                // This is approximate - Apple Silicon detection is complex
                if (userAgent.includes('Intel')) {
                    return 'intel';
                } else if (platform.includes('arm') || platform.includes('ARM')) {
                    return 'apple-silicon';
                } else {
                    // Default to Intel for older detection methods
                    return 'intel';
                }
            }
            return 'unknown';
        }

        // Get appropriate download URL based on Mac type
        function getDownloadUrl(architecture) {
            // Temporary URLs - will update with proper hosting
            const baseUrl = 'https://github.com/Kettlebell319/tidytop/releases/download/v1.0.0/';
            
            if (architecture === 'apple-silicon') {
                return baseUrl + 'TidyTop-1.0.0-arm64.dmg';
            } else {
                return baseUrl + 'TidyTop-1.0.0.dmg'; // Intel or unknown defaults to Intel
            }
        }

        function scrollToPricing() {
            document.getElementById('pricing').scrollIntoView({ behavior: 'smooth' });
        }

        async function selectDrink(drinkName) {
            const drink = drinkData[drinkName];
            const macArch = detectMacArchitecture();
            const downloadUrl = getDownloadUrl(macArch);
            
            if (!drink) {
                console.error('Drink not found:', drinkName);
                return;
            }

            try {
                console.log('Initiating purchase for:', drinkName, 'Price ID:', drink.priceId);
                
                // Create Stripe checkout session directly with Stripe.js
                const { error } = await stripe.redirectToCheckout({
                    lineItems: [{
                        price: drink.priceId,
                        quantity: 1,
                    }],
                    mode: 'payment',
                    successUrl: window.location.origin + `/success.html?download=${encodeURIComponent(downloadUrl)}&drink=${encodeURIComponent(drinkName)}`,
                    cancelUrl: window.location.origin + '/cancel.html',
                    clientReferenceId: macArch,
                });

                if (error) {
                    console.error('Stripe error:', error);
                    alert('Payment processing unavailable. Please try again later.');
                }
            } catch (err) {
                console.error('Payment initiation failed:', err);
                alert('Payment processing unavailable. Please try again later.');
            }
        }


        // Initialize price updates (placeholder for Phase 2)
        function initializePriceUpdates() {
            // TODO: Phase 2 - Replace static prices with dynamic fetching
            console.log('Price updates initialized');
        }

        // Load dynamic prices on page load (Phase 2)
        document.addEventListener('DOMContentLoaded', function() {
            initializePriceUpdates();
            
            // Display detected Mac architecture for debugging
            const macArch = detectMacArchitecture();
            console.log('Detected Mac architecture:', macArch);
            console.log('Download URL would be:', getDownloadUrl(macArch));
        });
    </script>
</body>
</html>